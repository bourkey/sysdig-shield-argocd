apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Reference base configuration
bases:
  - ../../base

# Dev-specific patches
patches:
  # Reduce replicas for dev
  - path: admission-controller-patch.yaml
  - path: kspm-collector-patch.yaml

  # Lower resource requests for dev
  - path: sysdig-agent-resources-patch.yaml
  - path: admission-controller-resources-patch.yaml
  - path: node-analyzer-resources-patch.yaml

  # Dev-specific configuration
  - path: configmap-patch.yaml

  # Remove PDB for dev (single node clusters)
  - path: remove-pdb-patch.yaml

# Dev-specific labels
commonLabels:
  environment: dev
