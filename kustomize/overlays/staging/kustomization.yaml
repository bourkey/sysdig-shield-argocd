apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Reference base configuration
bases:
  - ../../base

# Staging-specific patches
patches:
  # Moderate replicas for staging
  - path: admission-controller-patch.yaml
  - path: kspm-collector-patch.yaml

  # Moderate resource requests for staging
  - path: sysdig-agent-resources-patch.yaml
  - path: admission-controller-resources-patch.yaml
  - path: node-analyzer-resources-patch.yaml

  # Staging-specific configuration
  - path: configmap-patch.yaml

# Staging-specific labels
commonLabels:
  environment: staging
